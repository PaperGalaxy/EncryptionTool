数据加密系统完整规则说明
一、密钥规则
1.1 密钥格式
长度要求：固定6位字符
字符范围：
  数字：0-9
  大写字母：A-Z
  小写字母：a-z
大小写敏感：A ≠ a
1.2 密钥结构解析
运算类型指示符：第1位
实际加密密钥：第2-6位
二、运算类型映射规则
2.1 第一位字符决定运算类型
根据第一个字符自动映射到4种加密运算：
字符范围	运算类型	加密运算	解密运算
0-9, A-J, a-j	加法运算	密文=(明文+密钥) % 256	明文=(密文-密钥+256) % 256
K-T, k-t	减法运算	密文=(明文-密钥+256)% 256	密文=(明文-密钥+256) % 256
U-Z, u-z	异或运算	密文=明文^密钥	明文=密文^密钥
其他字符	乘法运算	密文=(明文×密钥) % 256	明文=查找满足条件的值
2.2 字符到运算类型的详细映射
数字：0-9 → 加法运算
大写字母：
  A-J → 加法运算
  K-T → 减法运算  
  U-Z → 异或运算
小写字母：
  a-j → 加法运算
  k-t → 减法运算
  u-z → 异或运算
三、密钥变换规则
3.1 变换类型确定
根据第一个字符的索引值（0-61）模8得到8种变换类型：
索引计算：
  数字0-9 → 索引0-9
  大写A-Z → 索引10-35
  小写a-z → 索引36-61
变换类型 = 索引 % 8
3.2 8种密钥变换方式
变换0：无变换
描述：保持原始密钥不变
示例：ABC12 → ABC12
变换1：循环左移
描述：所有字符向左移动一位，首字符移到末尾
示例：ABC12 → BC12A
变换2：循环右移
描述：所有字符向右移动一位，末尾字符移到开头
示例：ABC12 → 2ABC1
变换3：反转顺序
描述：完全反转密钥字符顺序
示例：ABC12 → 21CBA
变换4：奇偶交换
描述：交换相邻的奇偶位置字符（索引从0开始）
示例：ABC12 → BAC21
变换5：大小写翻转
描述：大写字母转小写，小写字母转大写
示例：AbC12 → aBc12
变换6：数字偏移
描述：数字字符根据第一个字符的值进行循环偏移
偏移量 = 第一个字符 % 10
示例：密钥A1234，偏移量1 → A2345
变换7：字母移位
描述：字母字符根据第一个字符的值进行循环移位
移位量 = 第一个字符 % 26
示例：密钥AabcZ，移位量1 → AbcdA
四、加密流程规则
4.1 密钥处理阶段
1. 解析第一个字符：确定运算类型和变换类型
2. 提取后5位：获取实际加密密钥
3. 应用密钥变换：根据变换类型修改密钥
4. 生成密钥流：基于变换后密钥生成256字节密钥流
4.2 加密运算阶段
对每个明文字节执行：
加密字节 = 运算(明文字节, 密钥流[位置 % 256])
其中运算包括：加法、减法、异或、乘法
4.3 输出格式
加密结果以十六进制字符串表示
每个字节用2位十六进制数表示
示例：6C55F58A6A22A4CCFE
五、解密流程规则
5.1 必要条件
必须使用相同的6位密钥
加密结果必须是有效的十六进制字符串
5.2 解密过程
1. 十六进制转换：将密文字符串转换为字节数组
2. 密钥处理：与加密时完全相同的密钥解析和变换过程
3. 生成密钥流：必须与加密时生成的密钥流完全一致
4. 逆运算解密：使用对应的逆运算还原明文
6. 核心算法规则
6.1 密钥流生成算法
// 初始化
for(i=0 to 255) keyStream[i] = i
// 基于密钥的混淆
for(i=0 to 255):
  位置 = f(密钥[i%密钥长度], i, 运算类型, 变换类型)
  交换(keyStream[i], keyStream[位置])
// 增强混淆（多轮）
for(轮次=0 to 2):
  for(i=0 to 255):
    位置 = g(密钥, keyStream, i, 轮次, 运算类型, 变换类型)
    交换(keyStream[i], keyStream[位置])
6.2 模256运算规则
所有运算结果都在0-255范围内：
加法：(a + b)  %  256
减法：(a - b + 256)  %  256
乘法：(a × b)  %  256
异或：结果自动在字节范围内
七、 使用约束规则
7.1 输入限制
明文：支持任意字节数据（0-255）
密钥：必须6位，只含数字和字母
密文：必须是偶数长度的十六进制字符串
7.2 安全性说明
实际安全应用应使用专业加密算法
密钥保密是安全的核心
八、错误处理规则
8.1 密钥错误
长度不为6 → 拒绝处理
包含非法字符 → 拒绝处理
密钥不匹配 → 解密失败
错误示例：
错误：12345     (太短)
错误：1234567   (太长)
错误：123!56    (包含非法字符)
错误：中文密钥   (非字母数字)
8.2 数据错误
空输入 → 拒绝处理
无效十六进制 → 解密失败
数据过长（输入超出1024字节[约1024个英文字符或341个中文字符] → 截断处理
九、示例验证规则
9.1 加密示例
明文: "我爱你"
密钥: "1415Xy"
运算类型: 减法（第一位'1'）
变换类型: 循环左移（索引1 % 8 = 1）
原始密钥: "415Xy" → 变换后: "15Xy4"
加密结果: "6C55F58A6A22A4CCFE"
9.2 实际加密能力测试
已验证的支持类型：
数据类型	支持状态	示例
短文本	✅完全支持	"Hello"
长文本	⚠️1024字节内	文章、笔记
中文	✅完全支持	"中文测试"
特殊符号	✅完全支持	"!@#$%^&*()"
Emoji	✅完全支持	"😂🚀⭐"
混合内容	✅完全支持	"Hello世界!
图片文件	❌不支持	.jpg, .png
二进制文件	❌不支持	.exe, .zip
十、重要提醒
1. 密钥一致性：加密解密必须使用完全相同密钥
2. 运算可逆性：每种运算都有对应的逆运算
3. 变换确定性：相同密钥总是产生相同的变换结果
4. 编码兼容性：支持所有字符编码（UTF-8、ASCII等）
这套规则确保了加密系统的完整性、一致性和可逆性，只要遵循这些规则，就能实现安全可靠的数据加密和解密。
十一、安全性说明（补充完整版）
安全性说明与免责声明
技术安全性说明：
本系统展示加密算法的基本原理
采用自定义的流加密算法，不具备军事级安全性
实际安全应用应使用专业加密算法（如AES、RSA等）
密钥保密是安全的核心，但算法本身可能被专业密码分析破解
法律与道德声明：
本加密系统仅供合法学习、研究和个人隐私保护使用
严禁用于任何违法乱纪行为，包括但不限于：
  		传播非法信息
  		进行网络攻击
  		侵犯他人隐私
  		破坏网络安全
  		其他任何违反法律法规的行为
任何个人或团体的违法犯罪行为，均与本代码作者无关
使用者须对自身行为承担全部法律责任
技术局限性：
❌ 不提供完整性验证（无法检测数据是否被篡改）
❌ 不提供身份认证功能
❌ 可能受到已知明文攻击、选择明文攻击等
❌ 密钥空间有限，可能被暴力破解
适用场景建议：
✅ 学习密码学原理
✅ 个人笔记加密
✅ 非敏感信息保护
✅ 教育演示用途
重要提醒：
如果您有高安全性需求，请使用经过专业安全审计的加密库和算法，如OpenSSL、Libsodium等。本系统更适合作为学习工具而非生产环境的安全解决方案。
